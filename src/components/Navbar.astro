---
const brandColor = "text-yellow-400";
---

<nav class="sticky top-0 z-50 bg-[#221E1F] border-b border-neutral-800">
    <div
        class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between text-white"
    >
        <a href="/" class="flex items-center">
            <img src="/images/logo.png" alt="SMSA" class="h-10 w-auto" />
        </a>

        <!-- Desktop -->
        <ul class="hidden md:flex gap-6 text-base">
            <li>
                <a href="#nosotros" class="hover:text-yellow-400">Nosotros</a>
            </li>
            <li>
                <a href="#servicios" class="hover:text-yellow-400">Servicios</a>
            </li>
            <li><a href="#obras" class="hover:text-yellow-400">Obras</a></li>
            <li>
                <a href="#clientes" class="hover:text-yellow-400">Clientes</a>
            </li>
            <li>
                <a href="/galeria" class="hover:text-yellow-400">Galería</a>
            </li>
            <li>
                <a href="#contacto" class="hover:text-yellow-400">Contacto</a>
            </li>
        </ul>

        <!-- Mobile -->
        <button
            id="menuToggle"
            class="md:hidden inline-flex items-center justify-center p-2 rounded border border-neutral-700"
            aria-label="Abrir menú"
            aria-expanded="false"
            data-open="false"
            type="button"
        >
            <svg
                class="icon-hamb h-6 w-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                ><path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 6h16M4 12h16M4 18h16"></path></svg
            >
            <svg
                class="icon-close h-6 w-6 hidden"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                ><path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"></path></svg
            >
        </button>
    </div>

    <div
        id="mobileMenu"
        class="md:hidden hidden border-t border-neutral-800 bg-neutral-900 text-white"
    >
        <ul class="px-4 py-3 space-y-2">
            <li><a href="#nosotros" data-close="true">Nosotros</a></li>
            <li><a href="#servicios" data-close="true">Servicios</a></li>
            <li><a href="#obras" data-close="true">Obras</a></li>
            <li><a href="#clientes" data-close="true">Clientes</a></li>
            <li><a href="#descargas" data-close="true">Descargas</a></li>
            <li><a href="#contacto" data-close="true">Contacto</a></li>
            <li>
                <a
                    href="https://wa.me/549297XXXXXX"
                    class="inline-block px-4 py-2 rounded bg-yellow-400 text-black font-semibold"
                    >WhatsApp</a
                >
            </li>
        </ul>
    </div>
</nav>

<style>
    [data-open="true"] .icon-hamb {
        display: none;
    }
    [data-open="true"] .icon-close {
        display: inline;
    }
    [data-open="false"] .icon-hamb {
        display: inline;
    }
    [data-open="false"] .icon-close {
        display: none;
    }
</style>

<script is:raw>
    (() => {
        const btn = document.getElementById("menuToggle");
        const menu = document.getElementById("mobileMenu");
        if (!btn || !menu) return;
        const setOpen = (open) => {
            btn.dataset.open = String(open);
            btn.setAttribute("aria-expanded", String(open));
            menu.classList.toggle("hidden", !open);
        };
        btn.addEventListener("click", () =>
            setOpen(btn.dataset.open !== "true"),
        );
        menu.querySelectorAll('a[data-close="true"]').forEach((a) =>
            a.addEventListener("click", () => setOpen(false)),
        );
    })();
</script>
